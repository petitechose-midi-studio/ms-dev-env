# Install hints per platform/distro
# Used by CheckerService to provide helpful error messages
#
# Structure:
#   [tools.<tool_id>]
#   fedora = "command"
#   debian = "command"
#   arch = "command"
#   macos = "command"
#   windows = "command or message"
#
#   [system.<requirement>]
#   ...

# =============================================================================
# Build Tools
# =============================================================================

[tools.cmake]
fedora = "Run: uv run ms sync --tools"
debian = "Run: uv run ms sync --tools"
arch = "Run: uv run ms sync --tools"
macos = "Run: uv run ms sync --tools"
windows = "Run: uv run ms sync --tools"

[tools.ninja]
fedora = "Run: uv run ms sync --tools"
debian = "Run: uv run ms sync --tools"
arch = "Run: uv run ms sync --tools"
macos = "Run: uv run ms sync --tools"
windows = "Run: uv run ms sync --tools"

[tools.bun]
fedora = "Run: uv run ms sync --tools"
debian = "Run: uv run ms sync --tools"
arch = "Run: uv run ms sync --tools"
macos = "Run: uv run ms sync --tools"
windows = "Run: uv run ms sync --tools"

[tools.uv]
fedora = "Install uv: https://docs.astral.sh/uv/getting-started/installation/"
debian = "Install uv: https://docs.astral.sh/uv/getting-started/installation/"
arch = "Install uv: https://docs.astral.sh/uv/getting-started/installation/"
macos = "Install uv: https://docs.astral.sh/uv/getting-started/installation/"
windows = "Install uv: https://docs.astral.sh/uv/getting-started/installation/"

# =============================================================================
# Java Tools
# =============================================================================

[tools.jdk]
fedora = "Run: uv run ms sync --tools"
debian = "Run: uv run ms sync --tools"
arch = "Run: uv run ms sync --tools"
macos = "Run: uv run ms sync --tools"
windows = "Run: uv run ms sync --tools"

[tools.maven]
fedora = "Run: uv run ms sync --tools"
debian = "Run: uv run ms sync --tools"
arch = "Run: uv run ms sync --tools"
macos = "Run: uv run ms sync --tools"
windows = "Run: uv run ms sync --tools"

# =============================================================================
# System Tools
# =============================================================================

[tools.git]
fedora = "sudo dnf install -y git"
debian = "sudo apt install -y git"
arch = "sudo pacman -S --noconfirm git"
macos = "xcode-select --install"
windows = "Install Git for Windows: https://git-scm.com/"

[tools.gh]
fedora = "sudo dnf install -y gh"
debian = "sudo apt install -y gh"
arch = "sudo pacman -S --noconfirm github-cli"
macos = "brew install gh"
windows = "winget install --id GitHub.cli -e"

[tools.cargo]
fedora = "Install rustup: https://rustup.rs"
debian = "Install rustup: https://rustup.rs"
arch = "sudo pacman -S --noconfirm rust"
macos = "Install rustup: https://rustup.rs"
windows = "Install rustup: https://rustup.rs"

[tools."g++"]
fedora = "sudo dnf install -y gcc-c++"
debian = "sudo apt install -y g++"
arch = "sudo pacman -S --noconfirm gcc"
macos = "xcode-select --install"
windows = "Install MinGW-w64: https://www.mingw-w64.org/"

# C compiler/linker - required for Rust compilation
[system.cc]
fedora = "sudo dnf install -y gcc"
debian = "sudo apt install -y build-essential"
arch = "sudo pacman -S --noconfirm base-devel"
macos = "xcode-select --install"
windows = "Install Build Tools: https://visualstudio.microsoft.com/visual-cpp-build-tools/"

# =============================================================================
# Embedded/Platform Tools
# =============================================================================

[tools.platformio]
fedora = "Run: uv run ms sync --tools"
debian = "Run: uv run ms sync --tools"
arch = "Run: uv run ms sync --tools"
macos = "Run: uv run ms sync --tools"
windows = "Run: uv run ms sync --tools"

[tools.emscripten]
fedora = "Run: uv run ms sync --tools"
debian = "Run: uv run ms sync --tools"
arch = "Run: uv run ms sync --tools"
macos = "Run: uv run ms sync --tools"
windows = "Run: uv run ms sync --tools"

# =============================================================================
# System Dependencies
# =============================================================================

[system.sdl2]
fedora = "sudo dnf install -y SDL2-devel"
debian = "sudo apt install -y libsdl2-dev"
arch = "sudo pacman -S --noconfirm sdl2"
macos = "Optional: brew install sdl2 (or build will fetch)"
windows = "Run: uv run ms sync --tools"

[system.alsa]
fedora = "sudo dnf install -y alsa-lib-devel"
debian = "sudo apt install -y libasound2-dev"
arch = "sudo pacman -S --noconfirm alsa-lib"
macos = "N/A (uses CoreMIDI)"
windows = "N/A (uses WinMM)"

[system.pkg-config]
fedora = "sudo dnf install -y pkgconf-pkg-config"
debian = "sudo apt install -y pkg-config"
arch = "sudo pacman -S --noconfirm pkgconf"
macos = "Optional: brew install pkg-config"
windows = "N/A"

# libudev - required for USB/MIDI device access (oc-bridge)
[system.libudev]
fedora = "sudo dnf install -y systemd-devel"
debian = "sudo apt install -y libudev-dev pkg-config"
arch = "sudo pacman -S --noconfirm systemd-libs"
macos = "N/A (uses IOKit)"
windows = "N/A (uses WinUSB)"

# =============================================================================
# Optional/Asset Tools
# =============================================================================

[tools.inkscape]
fedora = "sudo dnf install -y inkscape"
debian = "sudo apt install -y inkscape"
arch = "sudo pacman -S --noconfirm inkscape"
macos = "brew install --cask inkscape"
windows = "https://inkscape.org/release/1.4.3/platforms/"

[tools.fontforge]
fedora = "sudo dnf install -y fontforge"
debian = "sudo apt install -y fontforge"
arch = "sudo pacman -S --noconfirm fontforge"
macos = "brew install --cask fontforge"
windows = "https://fontforge.org/en-US/downloads/"

# =============================================================================
# Runtime Configuration
# =============================================================================

[runtime.virmidi]
linux = "sudo modprobe snd-virmidi"
linux_persistent = "Create /etc/modules-load.d/virmidi.conf containing: snd-virmidi"

[runtime.serial_permissions]
linux_dialout = "sudo usermod -a -G dialout $USER"
linux_uucp = "sudo usermod -a -G uucp $USER"

[runtime.udev_teensy]
linux = "Download https://www.pjrc.com/teensy/00-teensy.rules to /etc/udev/rules.d/00-teensy.rules"

[runtime.udev_platformio]
linux = "Download https://raw.githubusercontent.com/platformio/platformio-core/develop/scripts/99-platformio-udev.rules to /etc/udev/rules.d/99-platformio-udev.rules"

[runtime.udev_reload]
linux = "Run: sudo udevadm control --reload-rules then sudo udevadm trigger"

[runtime.midi]
macos = "Enable IAC Driver in Audio MIDI Setup"
windows = "Install loopMIDI for virtual MIDI ports: https://www.tobias-erichsen.de/software/loopmidi.html"
